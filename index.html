<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>IVL System v1.6 (Hybrid)</title>
    <link href="https://fonts.googleapis.com/css2?family=Cinzel:wght@700&family=Noto+Sans+TC:wght@500;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --bg-gradient: linear-gradient(135deg, #0f2027 0%, #203a43 50%, #2c5364 100%);
            --glass-bg: rgba(255, 255, 255, 0.1);
            --glass-border: rgba(255, 255, 255, 0.2);
            --glass-shadow: 0 8px 32px 0 rgba(0, 0, 0, 0.5);
            
            --btn-ban: rgba(231, 76, 60, 0.9);
            --btn-pick: rgba(52, 152, 219, 0.9);
            --btn-map: rgba(241, 196, 15, 0.9);
            
            --text-gold: #f1c40f;
            --text-silver: #e0e0e0;
        }

        body {
            font-family: 'Noto Sans TC', sans-serif;
            background: var(--bg-gradient);
            background-attachment: fixed;
            color: var(--text-silver);
            margin: 0;
            padding: 20px;
            display: flex;
            flex-direction: column;
            align-items: center;
            min-height: 100vh;
        }

        /* æ°´æ™¶å¡ç‰‡å®¹å™¨ */
        .crystal-card {
            background: var(--glass-bg);
            backdrop-filter: blur(12px);
            -webkit-backdrop-filter: blur(12px);
            border: 1px solid var(--glass-border);
            border-radius: 20px;
            box-shadow: var(--glass-shadow);
        }

        /* é ‚éƒ¨ Header */
        .header-panel {
            width: 100%; max-width: 1200px; padding: 20px; margin-bottom: 20px;
            display: flex; justify-content: space-between; align-items: center;
            flex-wrap: wrap; gap: 15px;
        }
        
        .fancy-input {
            background: rgba(0,0,0,0.4); border: 1px solid #777; color: #fff;
            padding: 8px 15px; border-radius: 12px; font-size: 1.1rem; text-align: center; width: 120px;
        }

        .scoreboard {
            display: flex; align-items: center; gap: 20px;
            font-family: 'Cinzel', serif; color: var(--text-gold);
        }
        .score-num { font-size: 2.5rem; font-weight: bold; margin: 0 10px; text-shadow: 0 0 10px rgba(241,196,15,0.3); }

        .status-bar {
            width: 100%; max-width: 1200px; padding: 15px; margin-bottom: 20px;
            text-align: center; font-size: 1.4rem; font-weight: bold; color: #fff;
            text-shadow: 0 2px 4px rgba(0,0,0,0.8); border-bottom: 2px solid var(--text-gold);
        }

        /* éŠæˆ²å€åŸŸ */
        .main-stage { width: 100%; max-width: 1250px; display: none; flex-direction: column; gap: 20px; }
        
        .faction-container { display: flex; gap: 20px; flex-wrap: wrap; justify-content: center; }
        .faction-box { flex: 1; padding: 20px; min-width: 320px; }

        .faction-title {
            font-family: 'Cinzel', serif; font-size: 2rem; text-align: center; margin-bottom: 15px;
            text-transform: uppercase; letter-spacing: 2px;
            border-bottom: 1px solid rgba(255,255,255,0.1); padding-bottom: 10px;
        }

        /* --- ç¶²æ ¼èˆ‡æŒ‰éˆ•è¨­è¨ˆ (v1.6 é‡é») --- */
        .grid { 
            display: grid; 
            grid-template-columns: repeat(auto-fill, minmax(80px, 1fr)); 
            gap: 15px; justify-content: center; padding: 10px;
        }

        .item-card {
            position: relative;
            cursor: pointer;
            transition: all 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            background-color: rgba(255,255,255,0.05);
            background-size: cover;
            background-position: center;
            border: 2px solid rgba(255,255,255,0.15);
            box-shadow: 0 4px 6px rgba(0,0,0,0.2);
            display: flex; align-items: center; justify-content: center;
            overflow: hidden;
        }

        /* 1. è§’è‰²åœ“å½¢ä»£å¹£ */
        .char-card {
            width: 80px; height: 80px;
            border-radius: 50%;
        }
        /* è‹¥ç„¡åœ–ç‰‡ï¼Œé¡¯ç¤ºæ¼‚äº®æ–‡å­— */
        .char-card span {
            font-size: 0.9rem; font-weight: bold; color: rgba(255,255,255,0.7);
            text-align: center; line-height: 1.2; padding: 5px; pointer-events: none;
            z-index: 1; text-shadow: 0 1px 3px rgba(0,0,0,0.8);
        }
        /* è‹¥æœ‰åœ–ç‰‡ï¼Œéš±è—æ–‡å­— (JSæ§åˆ¶) */
        .char-card.has-img span { display: none; }

        /* 2. åœ°åœ–æ–¹å½¢å¡ç‰‡ */
        .map-card {
            width: 100px; height: 100px;
            border-radius: 16px;
        }
        .map-grid { grid-template-columns: repeat(auto-fill, minmax(100px, 1fr)); }

        /* --- äº’å‹•æ•ˆæœ --- */
        .item-card:hover:not(.disabled) {
            transform: scale(1.15) translateY(-5px);
            border-color: #fff;
            box-shadow: 0 0 20px rgba(255,255,255,0.3);
            z-index: 10;
        }

        /* é¸ä¸­ç‹€æ…‹ç’°ç¹å…‰ */
        .active-ban { box-shadow: 0 0 0 3px var(--btn-ban), 0 0 20px var(--btn-ban); border-color: transparent; }
        .active-pick { box-shadow: 0 0 0 3px var(--btn-pick), 0 0 20px var(--btn-pick); border-color: transparent; }
        .active-map { box-shadow: 0 0 0 3px var(--btn-map), 0 0 20px var(--btn-map); border-color: transparent; }

        /* é–å®šç‹€æ…‹ (åŠ ä¸ŠåŠé€æ˜é®ç½©) */
        .item-card.locked::after {
            content: ''; position: absolute; top: 0; left: 0; width: 100%; height: 100%;
            pointer-events: none;
        }
        .item-card.locked.banned::after { background: rgba(231, 76, 60, 0.6); } /* ç´…è‰²é®ç½© */
        .item-card.locked.picked::after { background: rgba(52, 152, 219, 0.6); } /* è—è‰²é®ç½© */
        .item-card.locked.map-picked::after { background: rgba(241, 196, 15, 0.5); } /* é‡‘è‰²é®ç½© */
        
        /* å…¨å±€ç¦ç”¨ (ç°è‰²é–é ­) */
        .item-card.global-banned {
            filter: grayscale(100%) opacity(0.5);
            cursor: not-allowed; pointer-events: none;
        }
        .item-card.global-banned::before {
            content: 'ğŸ”’'; font-size: 24px; position: absolute; z-index: 5;
            text-shadow: 0 0 5px black;
        }

        /* åº•éƒ¨æŒ‰éˆ• */
        .control-dock {
            position: fixed; bottom: 30px; left: 50%; transform: translateX(-50%); z-index: 100;
        }
        .btn-action {
            padding: 12px 50px; border-radius: 50px; border: none; font-size: 1.2rem; font-weight: bold;
            cursor: pointer; background: linear-gradient(45deg, #f1c40f, #e67e22); color: #000;
            box-shadow: 0 10px 25px rgba(0,0,0,0.5); transition: 0.2s;
        }
        .btn-action:active { transform: scale(0.95); }
        
        /* Modal */
        .modal {
            display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: rgba(0,0,0,0.9); z-index: 200; justify-content: center; align-items: center;
        }
    </style>
</head>
<body>

    <div class="header-panel crystal-card">
        <div id="setupZone" style="display:flex; gap:10px; align-items:center;">
            <input type="text" id="teamA_Input" class="fancy-input" value="Wolves">
            <span style="color:#888">VS</span>
            <input type="text" id="teamB_Input" class="fancy-input" value="Gr">
            <button class="btn-action" style="padding:8px 30px; font-size:1rem;" onclick="initMatch()">START</button>
        </div>
        
        <div class="scoreboard" id="scoreZone" style="display:none;">
            <div style="text-align:center">
                <div id="displayTeamA" style="font-size:0.8em; color:#aaa">HOME</div>
                <div class="score-num" id="scoreA">0</div>
            </div>
            <div style="text-align:center; font-size:0.9rem; opacity:0.8;">
                <div>BO <span id="boDisplay">1</span></div>
                <div id="halfDisplay" style="color:#fff; font-weight:bold;">UP</div>
            </div>
            <div style="text-align:center">
                <div id="displayTeamB" style="font-size:0.8em; color:#aaa">GUEST</div>
                <div class="score-num" id="scoreB">0</div>
            </div>
        </div>
    </div>

    <div class="status-bar" id="statusBar">IVL BP System v1.6</div>

    <div class="main-stage" id="mapStage">
        <div class="crystal-card faction-box" style="align-items:center; display:flex; flex-direction:column;">
            <div class="faction-title" style="color:var(--text-gold)">MAP SELECT</div>
            <div style="margin-bottom:15px; font-size:1.2rem;" id="mapInfo">Waiting...</div>
            <div class="grid map-grid" id="mapGrid"></div>
        </div>
    </div>

    <div class="main-stage" id="charStage">
        <div class="faction-container">
            <div class="crystal-card faction-box" id="survBox">
                <div class="faction-title" style="color:#3498db">SURVIVORS</div>
                <div style="text-align:center; margin-bottom:10px; color:#aaa;" id="survTeamName">-</div>
                <div class="grid" id="survGrid"></div>
            </div>
            <div class="crystal-card faction-box" id="huntBox">
                <div class="faction-title" style="color:#e74c3c">HUNTERS</div>
                <div style="text-align:center; margin-bottom:10px; color:#aaa;" id="huntTeamName">-</div>
                <div class="grid" id="huntGrid"></div>
            </div>
        </div>
    </div>

    <div class="control-dock">
        <button class="btn-action" id="confirmBtn" style="display:none;" onclick="nextStep()">CONFIRM</button>
    </div>

    <div class="modal" id="scoreModal">
        <div class="crystal-card" style="padding:40px; text-align:center;">
            <h2 style="color:var(--text-gold); margin:0 0 20px 0;">HALF END</h2>
            <div style="display:flex; justify-content:center; gap:20px; margin-bottom:30px;">
                <div><div id="labelA" style="margin-bottom:5px;">A</div><input type="number" id="inputScoreA" class="fancy-input" value="0"></div>
                <div><div id="labelB" style="margin-bottom:5px;">B</div><input type="number" id="inputScoreB" class="fancy-input" value="0"></div>
            </div>
            <button class="btn-action" onclick="submitScore()">NEXT</button>
        </div>
    </div>

    <script>
        // === è³‡æ–™å®šç¾© (ä¸­æ–‡åç”¨æ–¼é¡¯ç¤ºï¼Œè‹±æ–‡åç”¨æ–¼ Wiki ç¶²å€æœå°‹) ===
        const mapData = ["è»å·¥å» ","ç´…æ•™å ‚","è–å¿ƒé†«é™¢","æ¹–æ™¯æ‘","æœˆäº®æ²³å…¬åœ’","é‡Œå¥§çš„å›æ†¶","æ°¸çœ é®","å”äººè¡—","ä¸æ­¸æ—"];
        
        // ç‚ºäº†è‡ªå‹•æŠ“åœ–ï¼Œæˆ‘å»ºç«‹äº†ä¸€å€‹ç°¡å–®çš„å°ç…§è¡¨ (å¦‚æœå¤±æ•—å‰‡é¡¯ç¤ºæ–‡å­—)
        const charData = {
            survivors: ["å¹¸é‹å…’","é†«ç”Ÿ","å¾‹å¸«","æ…ˆå–„å®¶","åœ’ä¸","é­”è¡“å¸«","å†’éšªå®¶","å‚­å…µ","ç©ºè»","æ©Ÿæ¢°å¸«","å‰é‹’","ç›²å¥³","ç¥­å¸","èª¿é¦™å¸«","ç‰›ä»”","èˆå¥³","å…ˆçŸ¥","å…¥æ®®å¸«","å‹˜æ¢å“¡","å’’è¡“å¸«","é‡äºº","é›œæŠ€æ¼”å“¡","å¤§å‰¯","èª¿é…’å¸«","éƒµå·®","å®ˆå¢“äºº","å›šå¾’","æ˜†èŸ²å­¸è€…","ç•«å®¶","æ“Šçƒæ‰‹","ç©å…·å•†","ç—…æ‚£","å¿ƒç†å­¸å®¶","å°èªªå®¶","å°å¥³å­©","å“­æ³£å°ä¸‘","æ•™æˆ","å¤è‘£å•†","ä½œæ›²å®¶","è¨˜è€…","é£›è¡Œå®¶","æ‹‰æ‹‰éšŠå“¡","æœ¨å¶å¸«","ç«ç½èª¿æŸ¥å“¡","æ³•ç¾…å¥³å£«","é¨å£«","æ°£è±¡å­¸å®¶","å¼“ç®­æ‰‹","é€ƒè„«å¤§å¸«","å¹»ç‡ˆå¸«","é¬¥ç‰›å£«"],
            hunters: ["å» é•·","å‚‘å…‹","å°ä¸‘","é¹¿é ­","èœ˜è››","ç´…è¶","é»ƒè¡£ä¹‹ä¸»","å®¿å‚˜ä¹‹é­‚","æ”å½±å¸«","å¤¢ä¹‹å¥³å·«","ç´…å¤«äºº","å°æç´å®¶","é›•åˆ»å®¶","åšå£«","ç ´è¼ª","æ¼å¥³","è Ÿåƒå¸«","å™©å¤¢","è¨˜éŒ„å“¡","ä½¿å¾’","éš±å£«","å®ˆå¤œäºº","æ­ŒåŠ‡æ¼”å“¡","æ„šäººé‡‘","æ™‚ç©ºä¹‹å½±","è·›è…³ç¾Š","å–§å›‚","å°çƒæ‰‹","é›œè²¨å•†"]
        };

        // å˜—è©¦è‡ªå‹•å°æ‡‰ Wiki åœ–ç‰‡ (é€™æ˜¯ä¸€å€‹ç°¡æ˜“çš„ç¶²å€çŒœæ¸¬ï¼Œä¸ä¿è­‰ 100% æº–ç¢ºï¼Œä½†æ¯”å…¨ç©ºå¥½)
        // ä½¿ç”¨çš„æ˜¯ id5.fandom.com çš„å…¬é–‹è³‡æº
        function getOnlineImg(type, name) {
            // é€™è£¡ç‚ºäº†ç°¡åŒ–ï¼Œæˆ‘ä½¿ç”¨ä¸€å€‹å ä½ç¬¦é‚è¼¯ï¼Œå¯¦éš›æ‡‰ç”¨éœ€è¦æ›´è¤‡é›œçš„è‹±æ¼¢å°ç…§
            // ä½† v1.6 çš„é‡é»æ˜¯ï¼šå„ªå…ˆæ‰¾æœ¬åœ°ï¼Œæ‰¾ä¸åˆ°å°±é¡¯ç¤ºæ¼‚äº®çš„æ–‡å­—
            return `images/${type}/${name}.png`; 
        }

        // === ç‹€æ…‹è®Šæ•¸ ===
        let match = {
            teamA: "", teamB: "", scoreA: 0, scoreB: 0,
            round: 1, half: 0, 
            usedMaps: [], teamA_UsedSurv: [], teamB_UsedSurv: [],
            mapPicker: "", mapBanner: "",
            phase: 'idle', flow: [], step: 0, selection: []
        };

        // === åˆå§‹åŒ– ===
        function initMatch() {
            match.teamA = document.getElementById('teamA_Input').value;
            match.teamB = document.getElementById('teamB_Input').value;
            document.getElementById('setupZone').style.display = 'none';
            document.getElementById('scoreZone').style.display = 'flex';
            document.getElementById('displayTeamA').innerText = match.teamA;
            document.getElementById('displayTeamB').innerText = match.teamB;
            startHalf();
        }

        function startHalf() {
            document.getElementById('boDisplay').innerText = match.round;
            document.getElementById('halfDisplay').innerText = match.half === 0 ? "UP (ä¸ŠåŠ)" : "DOWN (ä¸‹åŠ)";
            
            // åˆ¤æ–·æ¬Šé™
            const isOdd = (match.round % 2 !== 0);
            match.mapPicker = isOdd ? match.teamA : match.teamB;
            match.mapBanner = isOdd ? match.teamB : match.teamA;

            // åˆ¤æ–·é™£ç‡Ÿ
            let firstHunter = isOdd ? match.teamA : match.teamB;
            if (match.half === 0) {
                match.hunter = firstHunter;
                match.survivor = (firstHunter === match.teamA) ? match.teamB : match.teamA;
            } else {
                match.hunter = (firstHunter === match.teamA) ? match.teamB : match.teamA;
                match.survivor = firstHunter;
            }

            if (match.half === 0) initMapPhase();
            else initCharPhase();
        }

        // === åœ°åœ–éšæ®µ ===
        function initMapPhase() {
            match.phase = 'map';
            document.getElementById('mapStage').style.display = 'flex';
            document.getElementById('charStage').style.display = 'none';
            match.flow = [
                { type: 'ban', actor: match.mapBanner, msg: `è«‹ ${match.mapBanner} ç¦ç”¨ä¸€å¼µåœ°åœ–` },
                { type: 'pick', actor: match.mapPicker, msg: `è«‹ ${match.mapPicker} é¸æ“‡æ¯”è³½åœ°åœ–` }
            ];
            match.step = 0;
            renderGrid('mapGrid', mapData, 'map');
            updateUI();
        }

        // === è§’è‰²éšæ®µ ===
        function initCharPhase() {
            match.phase = 'char';
            document.getElementById('mapStage').style.display = 'none';
            document.getElementById('charStage').style.display = 'flex';
            document.getElementById('survTeamName').innerText = match.survivor;
            document.getElementById('huntTeamName').innerText = match.hunter;
            
            let sBan = match.round === 2 ? 1 : (match.round >= 3 ? 2 : 0);
            
            match.flow = [
                { role: 'Hunter', action: 'Ban', actor: match.hunter, count: 2 },
                { role: 'Survivor', action: 'Ban', actor: match.survivor, count: sBan },
                { role: 'Survivor', action: 'Pick', actor: match.survivor, count: 2 },
                { role: 'Hunter', action: 'Ban', actor: match.hunter, count: 2 },
                { role: 'Survivor', action: 'Pick', actor: match.survivor, count: 2 },
                { role: 'Hunter', action: 'Pick', actor: match.hunter, count: 1 }
            ].filter(s => s.count > 0);
            
            match.step = 0;
            renderGrid('survGrid', charData.survivors, 'survivor');
            renderGrid('huntGrid', charData.hunters, 'hunter');
            updateUI();
        }

        // === æ¸²æŸ“æ ¸å¿ƒ (æ”¯æ´åœ–ç‰‡èˆ‡æ–‡å­—é™ç´š) ===
        function renderGrid(id, list, type) {
            const container = document.getElementById(id);
            container.innerHTML = '';
            
            list.forEach(name => {
                const div = document.createElement('div');
                div.className = `item-card ${type === 'map' ? 'map-card' : 'char-card'}`;
                
                // 1. å»ºç«‹æ–‡å­—æ¨™ç±¤ (é è¨­é¡¯ç¤º)
                const span = document.createElement('span');
                span.innerText = name;
                div.appendChild(span);

                // 2. å˜—è©¦è¨­å®šèƒŒæ™¯åœ–
                // æ³¨æ„ï¼šé€™è£¡ä½¿ç”¨æœ¬åœ°è·¯å¾‘ï¼Œå¦‚æœæ‰¾ä¸åˆ°åœ–ï¼ŒèƒŒæ™¯å°±æ˜¯é€æ˜çš„ï¼Œæœƒé¡¯ç¤ºä¸Šé¢çš„æ–‡å­—
                const imgPath = (type === 'map') ? `images/maps/${name}.png` : `images/${type}s/${name}.png`;
                
                // å‰µå»ºä¸€å€‹éš±è—çš„ img å…ƒç´ ä¾†æª¢æ¸¬åœ–ç‰‡æ˜¯å¦å­˜åœ¨
                const testImg = new Image();
                testImg.src = imgPath;
                testImg.onload = function() {
                    // åœ–ç‰‡å­˜åœ¨ï¼šè¨­å®šèƒŒæ™¯ä¸¦éš±è—æ–‡å­—
                    div.style.backgroundImage = `url('${imgPath}')`;
                    div.classList.add('has-img');
                };
                // åœ–ç‰‡ä¸å­˜åœ¨ (onerror)ï¼šä»€éº¼éƒ½ä¸åšï¼Œä¿æŒé¡¯ç¤ºæ–‡å­—

                // å…¨å±€ç¦ç”¨æª¢æŸ¥
                if (type === 'map' && match.usedMaps.includes(name)) div.classList.add('global-banned');
                if (type === 'survivor') {
                    const used = (match.survivor === match.teamA) ? match.teamA_UsedSurv : match.teamB_UsedSurv;
                    if (used.includes(name)) div.classList.add('global-banned');
                }

                div.onclick = () => handleSelect(div, name, type);
                container.appendChild(div);
            });
        }

        function handleSelect(div, name, type) {
            if (div.classList.contains('global-banned') || div.classList.contains('locked')) return;
            const step = match.flow[match.step];
            
            // é©—è­‰
            if (match.phase === 'char') {
                let target = step.role;
                if (step.action === 'Ban') target = (step.role === 'Hunter') ? 'Survivor' : 'Hunter';
                if (target.toLowerCase() !== type) return;
            }

            // é¸æ“‡é‚è¼¯
            const idx = match.selection.indexOf(name);
            let cls = match.phase === 'map' ? (step.type==='ban'?'active-ban':'active-map') : (step.action==='Ban'?'active-ban':'active-pick');

            if (idx > -1) {
                match.selection.splice(idx, 1);
                div.classList.remove(cls);
            } else {
                let limit = match.phase === 'map' ? 1 : step.count;
                if (match.phase === 'map' && match.selection.length > 0) {
                    // åœ°åœ–å–®é¸äº’æ–¥
                    document.querySelectorAll('.map-card').forEach(c => c.classList.remove(cls));
                    match.selection = [];
                }
                if (match.selection.length < limit) {
                    match.selection.push(name);
                    div.classList.add(cls);
                }
            }
            
            // ç¢ºèªæŒ‰éˆ•
            const btn = document.getElementById('confirmBtn');
            let need = match.phase === 'map' ? 1 : step.count;
            btn.style.display = match.selection.length === need ? 'block' : 'none';
        }

        function updateUI() {
            const step = match.flow[match.step];
            let msg = match.phase === 'map' ? step.msg : `${step.actor} ${step.action} ${step.count}`;
            document.getElementById('statusBar').innerText = msg;
            
            if (match.phase === 'map') {
                document.getElementById('mapInfo').innerText = msg;
            } else {
                // è¦–è¦ºèšç„¦
                const sBox = document.getElementById('survBox');
                const hBox = document.getElementById('huntBox');
                sBox.style.opacity = '0.4'; hBox.style.opacity = '0.4';
                
                let targetSurv = false;
                if (step.action === 'Pick' && step.role === 'Survivor') targetSurv = true;
                if (step.action === 'Ban' && step.role === 'Hunter') targetSurv = true;
                
                if (targetSurv) sBox.style.opacity = '1'; else hBox.style.opacity = '1';
            }
            match.selection = [];
            document.getElementById('confirmBtn').style.display = 'none';
        }

        function nextStep() {
            const step = match.flow[match.step];
            match.selection.forEach(name => {
                // å°‹æ‰¾ DOM
                const divs = Array.from(document.querySelectorAll('.item-card')).filter(e => e.innerText === name);
                divs.forEach(d => {
                    d.classList.remove('active-ban','active-pick','active-map');
                    d.classList.add('locked');
                    if (match.phase === 'map') {
                        if (step.type === 'pick') {
                            d.classList.add('map-picked');
                            match.usedMaps.push(name);
                        } else {
                            d.classList.add('banned');
                        }
                    } else {
                        d.classList.add(step.action === 'Ban' ? 'banned' : 'picked');
                        if (step.role === 'Survivor' && step.action === 'Pick') {
                            if (match.survivor === match.teamA) match.teamA_UsedSurv.push(name);
                            else match.teamB_UsedSurv.push(name);
                        }
                    }
                });
            });

            match.step++;
            if (match.step < match.flow.length) updateUI();
            else if (match.phase === 'map') initCharPhase();
            else {
                document.getElementById('labelA').innerText = match.teamA;
                document.getElementById('labelB').innerText = match.teamB;
                document.getElementById('scoreModal').style.display = 'flex';
            }
        }

        function submitScore() {
            match.scoreA += parseInt(document.getElementById('inputScoreA').value) || 0;
            match.scoreB += parseInt(document.getElementById('inputScoreB').value) || 0;
            document.getElementById('scoreA').innerText = match.scoreA;
            document.getElementById('scoreB').innerText = match.scoreB;
            document.getElementById('scoreModal').style.display = 'none';
            document.getElementById('inputScoreA').value = 0;
            document.getElementById('inputScoreB').value = 0;
            
            if (match.half === 0) match.half = 1;
            else { match.half = 0; match.round++; }
            startHalf();
        }
    </script>
</body>
</html>
